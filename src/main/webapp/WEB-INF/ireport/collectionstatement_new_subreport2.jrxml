<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="collectionstatement_new_subreport2" language="groovy" pageWidth="802" pageHeight="555" orientation="Landscape" columnWidth="802" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="362bfc16-6287-4213-89d5-c6b4d0cb4b2d">
	<property name="ireport.zoom" value="1.4641000000000006"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="SYS_ID" class="java.lang.String"/>
	<parameter name="dShetType" class="java.lang.String"/>
	<parameter name="dShetNo" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT  SYS_ID       AS "d_sysId"
     , SHET_TYPE    AS "d_shetType"
     , SHET_NO      AS "d_shetNo"
     , SHET_SEQ     AS "d_shetSeq"
     , SHET_DATE    AS "d_shetDate"
     , ITEM_CODE    AS "d_itemCode"
     , ITEM_NAME    AS "d_itemName"
     , ITEM_SPEC    AS "d_itemSpec"
     , ITEM_UNIT    AS "d_itemUnit"
     , ITEM_QTY     AS "d_itemQty"
     , ITEM_PRCE    AS "d_itemPrce_org"
     , ITEM_PRCE    AS "d_itemPrce"
     , ITEM_COST    AS "d_itemCost"
     , TOT_PRCE     AS "d_totPrce"
     , TOT_TAX      AS "d_totTax"
     , TOT_AMT      AS "d_totAmt"
     , base_prce    AS "d_basePrce"
     , DISC_RATE    AS "d_discRate"
     , PURC_PRCE    AS "d_purcPrce"
     , SALE_PRCE    AS "d_salePrce"
     , ON_HAND_QTY  AS "d_onHandQty"
     , LAST_TRAD    AS "d_lastTrad"
     , LAST_PRCE    AS "d_lastPrce"
     , MARGIN_RATE  AS "d_marginRate"
     , CUST_CODE    AS "d_custCode"
     , CUST_NAME    AS "d_custName"
     , SHOP_NAME    AS "d_shopName"
     , REMK         AS "d_remk"
     , USE_IDX      AS "d_useIdx"
     , REGI_DATE  AS "d_regiDate"
     , REGI_ID    AS "d_regiUser"
     , CHNG_DATE  AS "d_updtDate"
     , CHNG_ID    AS "d_updtUser"
     , 'R'          AS "d_rowStat"
     , CONCAT(SHET_NO,'::',SHET_SEQ) AS "d_shetNoSeq"
     , UNSTOR_DEPOT AS "d_unstorDepot"
     , ITEM_PRCE  AS "d_itemPrceTemp"
     , READY_MONEY AS "d_redMony"
     , (SELECT CD2.CODE_NAME FROM SYS_CODE CD2 WHERE CD2.SYS_ID = A.SYS_ID AND CD2.CODE_CD = A.READY_MONEY AND CD2.CODE_GRUP = 'READY_MONEY')  AS "d_redMonyName"
     , DDT_TYPE     AS "d_ddtType"
     , DDT_MONY   AS "d_ddtMony"
     , ACC_CODE     as "d_accCode"
     , ACC_NAME     as "d_accName"
     , (SELECT CD2.CODE_NAME FROM SYS_CODE CD2 WHERE CD2.SYS_ID = A.SYS_ID AND CD2.CODE_CD = A.ORD_SEQ AND CD2.CODE_GRUP = 'SHET_TYPE') AS "d_pshetName"
     , REFER_AMT*1.000  AS "d_referAmt"
     , ORD_NO       as "d_psehtNo"
     , ORD_SEQ      as "d_pshetType"
     , BILL_NAME  AS "d_billName"
     , BILL_NO    AS "d_billNo"
     , DEPT_NAME  AS "d_deptName"
      ,(IFNULL(TOT_AMT,0)+IFNULL(REFER_AMT,0)) AS "ordAmt"
          FROM shet_detl A
WHERE A.SYS_ID = $P{SYS_ID}
	AND FIND_IN_SET(SHET_TYPE,$P{dShetType})
	AND FIND_IN_SET(SHET_NO, $P{dShetNo})
ORDER
   BY  SHET_DATE DESC,  SHET_NO DESC, CUST_NAME]]>
	</queryString>
	<field name="d_sysId" class="java.lang.String"/>
	<field name="d_shetType" class="java.lang.String"/>
	<field name="d_shetNo" class="java.lang.String"/>
	<field name="d_shetSeq" class="java.math.BigDecimal"/>
	<field name="d_shetDate" class="java.lang.String"/>
	<field name="d_itemCode" class="java.lang.String"/>
	<field name="d_itemName" class="java.lang.String"/>
	<field name="d_itemSpec" class="java.lang.String"/>
	<field name="d_itemUnit" class="java.lang.String"/>
	<field name="d_itemQty" class="java.math.BigDecimal"/>
	<field name="d_itemPrce_org" class="java.math.BigDecimal"/>
	<field name="d_itemPrce" class="java.math.BigDecimal"/>
	<field name="d_itemCost" class="java.math.BigDecimal"/>
	<field name="d_totPrce" class="java.math.BigDecimal"/>
	<field name="d_totTax" class="java.math.BigDecimal"/>
	<field name="d_totAmt" class="java.math.BigDecimal"/>
	<field name="d_basePrce" class="java.math.BigDecimal"/>
	<field name="d_discRate" class="java.math.BigDecimal"/>
	<field name="d_purcPrce" class="java.math.BigDecimal"/>
	<field name="d_salePrce" class="java.math.BigDecimal"/>
	<field name="d_onHandQty" class="java.math.BigDecimal"/>
	<field name="d_lastTrad" class="java.lang.String"/>
	<field name="d_lastPrce" class="java.lang.String"/>
	<field name="d_marginRate" class="java.math.BigDecimal"/>
	<field name="d_custCode" class="java.lang.String"/>
	<field name="d_custName" class="java.lang.String"/>
	<field name="d_shopName" class="java.lang.String"/>
	<field name="d_remk" class="java.lang.String"/>
	<field name="d_useIdx" class="java.lang.String"/>
	<field name="d_regiDate" class="java.lang.String"/>
	<field name="d_regiUser" class="java.lang.String"/>
	<field name="d_updtDate" class="java.lang.String"/>
	<field name="d_updtUser" class="java.lang.String"/>
	<field name="d_rowStat" class="java.lang.String"/>
	<field name="d_shetNoSeq" class="java.lang.String"/>
	<field name="d_unstorDepot" class="java.lang.String"/>
	<field name="d_itemPrceTemp" class="java.math.BigDecimal"/>
	<field name="d_redMony" class="java.lang.String"/>
	<field name="d_redMonyName" class="java.lang.String"/>
	<field name="d_ddtType" class="java.lang.String"/>
	<field name="d_ddtMony" class="java.lang.String"/>
	<field name="d_accCode" class="java.lang.String"/>
	<field name="d_accName" class="java.lang.String"/>
	<field name="d_pshetName" class="java.lang.String"/>
	<field name="d_referAmt" class="java.lang.Double"/>
	<field name="d_psehtNo" class="java.lang.String"/>
	<field name="d_pshetType" class="java.lang.String"/>
	<field name="d_billName" class="java.lang.String"/>
	<field name="d_billNo" class="java.lang.String"/>
	<field name="d_deptName" class="java.lang.String"/>
	<field name="ordAmt" class="java.lang.Double"/>
	<variable name="No" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$V{COLUMN_NUMBER}]]></variableExpression>
		<initialValueExpression><![CDATA[1]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField pattern="" isBlankWhenNull="true">
				<reportElement x="158" y="0" width="99" height="20" uuid="eb805d89-9a20-4deb-b86d-083747a8f3da"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{d_accName}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0" isBlankWhenNull="true">
				<reportElement x="417" y="0" width="183" height="20" uuid="06e21dd0-f2af-4db0-bc1f-867f89704279"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle" markup="none">
					<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{d_custName}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="62" height="20" uuid="4dfce54f-77f8-4ba2-912c-8597829ae4b0"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{No}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0" isBlankWhenNull="true">
				<reportElement x="600" y="0" width="101" height="20" uuid="f1d71685-35ef-4ca6-8172-1616ad6c059e"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" markup="none">
					<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{d_totPrce}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0" isBlankWhenNull="true">
				<reportElement x="257" y="0" width="160" height="20" uuid="7e9eaacc-53a9-47f2-a22a-9b9c3bb98231"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle" markup="none">
					<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{d_itemName}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="62" y="0" width="96" height="20" uuid="987cac80-9ff0-4469-b2c9-7dce6a00fb2a"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{d_redMonyName}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0" isBlankWhenNull="true">
				<reportElement x="701" y="0" width="101" height="20" uuid="5cc0e901-194c-4ab0-8f37-77eaa2112e9d"/>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle" markup="none">
					<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{d_referAmt}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="1" splitType="Stretch">
			<line>
				<reportElement x="0" y="0" width="802" height="1" uuid="1174dcbe-d4b6-4a3f-beff-680edcdedba5"/>
			</line>
		</band>
	</summary>
</jasperReport>
