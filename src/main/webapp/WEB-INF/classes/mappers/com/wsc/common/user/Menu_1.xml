<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wsc.common.user.Menu_1">

    <select id="search" resultType="record" parameterType="params" statementType="CALLABLE">
        { call SP_SEARCH_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{menuLevel, mode=IN, jdbcType=VARCHAR},
            #{menuDesc, mode=IN, jdbcType=VARCHAR},
            #{menuDir, mode=IN, jdbcType=VARCHAR},
            #{menuUrl, mode=IN, jdbcType=VARCHAR},
            #{parentKey, mode=IN, jdbcType=VARCHAR},
            #{parentType, mode=IN, jdbcType=VARCHAR},
            #{childYn, mode=IN, jdbcType=VARCHAR},
            #{procType, mode=IN, jdbcType=VARCHAR},
            #{actionYn, mode=IN, jdbcType=VARCHAR},
            #{iconCls, mode=IN, jdbcType=VARCHAR},
            #{menuSeq, mode=IN, jdbcType=VARCHAR},
            #{sepaText, mode=IN, jdbcType=VARCHAR},
            #{useFlag, mode=IN, jdbcType=VARCHAR},
            #{enableYn, mode=IN, jdbcType=VARCHAR},
            #{sfdcYn, mode=IN, jdbcType=VARCHAR},
            #{gsLang, mode=IN, jdbcType=VARCHAR},
            #{start, mode=IN, jdbcType=INTEGER},
            #{end, mode=IN, jdbcType=INTEGER},
            #{sortClause, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>

    <select id="searchCount" resultType="int" parameterType="params" statementType="CALLABLE">
        { call SP_SEARCH_COUNT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{menuLevel, mode=IN, jdbcType=VARCHAR},
            #{menuDesc, mode=IN, jdbcType=VARCHAR},
            #{menuDir, mode=IN, jdbcType=VARCHAR},
            #{menuUrl, mode=IN, jdbcType=VARCHAR},
            #{parentKey, mode=IN, jdbcType=VARCHAR},
            #{parentType, mode=IN, jdbcType=VARCHAR},
            #{childYn, mode=IN, jdbcType=VARCHAR},
            #{procType, mode=IN, jdbcType=VARCHAR},
            #{actionYn, mode=IN, jdbcType=VARCHAR},
            #{iconCls, mode=IN, jdbcType=VARCHAR},
            #{menuSeq, mode=IN, jdbcType=VARCHAR},
            #{sepaText, mode=IN, jdbcType=VARCHAR},
            #{useFlag, mode=IN, jdbcType=VARCHAR},
            #{enableYn, mode=IN, jdbcType=VARCHAR},
            #{sfdcYn, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>

    <select id="select" resultType="menu" parameterType="params" statementType="CALLABLE">
        { call SP_SELECT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{gsLang, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>

    <insert id="insert" parameterType="params" statementType="CALLABLE">
        { call SP_INSERT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{menuLevel, mode=IN, jdbcType=INTEGER},
            #{menuDescKr, mode=IN, jdbcType=VARCHAR},
            #{menuDescEn, mode=IN, jdbcType=VARCHAR},
            #{menuDescPort, mode=IN, jdbcType=VARCHAR},
            #{menuDescViet, mode=IN, jdbcType=VARCHAR},
            #{menuDescEtc, mode=IN, jdbcType=VARCHAR},
            #{menuDir, mode=IN, jdbcType=VARCHAR},
            #{mobileType, mode=IN, jdbcType=VARCHAR},
            #{menuUrl, mode=IN, jdbcType=VARCHAR},
            #{parentKey, mode=IN, jdbcType=VARCHAR},
            #{parentType, mode=IN, jdbcType=VARCHAR},
            #{childYn, mode=IN, jdbcType=VARCHAR},
            #{procType, mode=IN, jdbcType=VARCHAR},
            #{actionYn, mode=IN, jdbcType=VARCHAR},
            #{iconCls, mode=IN, jdbcType=VARCHAR},
            #{menuSeq, mode=IN, jdbcType=INTEGER},
            #{sepaText, mode=IN, jdbcType=VARCHAR},
            #{enableYn, mode=IN, jdbcType=VARCHAR},
            #{sfdcYn, mode=IN, jdbcType=VARCHAR},
            #{gsUserId, mode=IN, jdbcType=VARCHAR}
        ) }
    </insert>

    <update id="update" parameterType="params" statementType="CALLABLE">
        { call SP_UPDATE_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{menuLevel, mode=IN, jdbcType=INTEGER},
            #{menuDescKr, mode=IN, jdbcType=VARCHAR},
            #{menuDescEn, mode=IN, jdbcType=VARCHAR},
            #{menuDescPort, mode=IN, jdbcType=VARCHAR},
            #{menuDescViet, mode=IN, jdbcType=VARCHAR},
            #{menuDescEtc, mode=IN, jdbcType=VARCHAR},
            #{menuDir, mode=IN, jdbcType=VARCHAR},
            #{mobileType, mode=IN, jdbcType=VARCHAR},
            #{menuUrl, mode=IN, jdbcType=VARCHAR},
            #{parentKey, mode=IN, jdbcType=VARCHAR},
            #{parentType, mode=IN, jdbcType=VARCHAR},
            #{childYn, mode=IN, jdbcType=VARCHAR},
            #{procType, mode=IN, jdbcType=VARCHAR},
            #{actionYn, mode=IN, jdbcType=VARCHAR},
            #{iconCls, mode=IN, jdbcType=VARCHAR},
            #{menuSeq, mode=IN, jdbcType=INTEGER},
            #{sepaText, mode=IN, jdbcType=VARCHAR},
            #{enableYn, mode=IN, jdbcType=VARCHAR},
            #{useFlag, mode=IN, jdbcType=VARCHAR},
            #{sfdcYn, mode=IN, jdbcType=VARCHAR},
            #{gsUserId, mode=IN, jdbcType=VARCHAR}
        ) }
    </update>

    <delete id="delete" parameterType="params" statementType="CALLABLE">
        { call SP_DELETE_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR}
        ) }
    </delete>
	
	<!-- 권한있는 메뉴 조회 -->
    <select id="searchAuthorized" resultType="menu" parameterType="params" statementType="CALLABLE">
        { call SP_SEARCH_AUTHORIZED_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{gsUserId, mode=IN, jdbcType=VARCHAR},
            #{gsLang, mode=IN, jdbcType=VARCHAR},
            #{gsMobileType, mode=IN, jdbcType=VARCHAR},
            #{gsMenuType, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>
	
	<!-- ========================================================== -->
    <!--   Menu Hot Management                                      -->
    <!-- ========================================================== -->
    <select id="searchHot" resultType="menu" parameterType="params" statementType="CALLABLE">
        { call SP_SEARCH_HOT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{userId, mode=IN, jdbcType=VARCHAR},
            #{gsUserId, mode=IN, jdbcType=VARCHAR},
            #{gsLang, mode=IN, jdbcType=VARCHAR},
            #{gsMobileType, mode=IN, jdbcType=VARCHAR},
            #{gsMenuType, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>

    <select id="searchHotCount" resultType="int" parameterType="params" statementType="CALLABLE">
        { call SP_SEARCH_HOT_COUNT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{userId, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>

    <select id="selectHot" resultType="menu" parameterType="params" statementType="CALLABLE">
        { call SP_SELECT_HOT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{userId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{gsLang, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>

    <insert id="insertHot" parameterType="params" statementType="CALLABLE">
        { call SP_INSERT_HOT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{userId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{gsUserId, mode=IN, jdbcType=VARCHAR}
        ) }
    </insert>

    <update id="updateHot" parameterType="params" statementType="CALLABLE">
        { call SP_UPDATE_HOT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{userId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR},
            #{sortSeq, mode=IN, jdbcType=INTEGER},
            #{gsUserId, mode=IN, jdbcType=VARCHAR}
        ) }
    </update>

    <delete id="deleteHot" parameterType="params" statementType="CALLABLE">
        { call SP_DELETE_HOT_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR},
            #{userId, mode=IN, jdbcType=VARCHAR},
            #{menuKey, mode=IN, jdbcType=VARCHAR}
        ) }
    </delete>

    <select id="searchType" resultType="record" parameterType="params" statementType="CALLABLE">
        { call SP_SEARCH_TYPE_MENU(
            #{sysId, mode=IN, jdbcType=VARCHAR}
        ) }
    </select>

</mapper>
